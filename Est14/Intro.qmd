---
title: "Red de Barberias - Est14"
author: "Juan Pablo Casilimas Camargo"
format: html
---

## Mi primera p√°gina

![](KvecinosCercanos.png)

üß© Mi an√°lisis  
Aqu√≠ presento mi red personal del curso.

- Cargu√© mis datos  
- Analic√© grados y centralidades  
- Encontr√© comunidades  
- Hice visualizaciones  

### Construcci√≥n del grafo de proximidad
Los datos provienen de una base tipo Google Places/Yelp, exportada como `barberia_bogota.csv`.  
Cada fila representa una barber√≠a con atributos como coordenadas, calificaci√≥n y n√∫mero de rese√±as.

```{r}
library(readr)
library(dplyr)
library(geosphere)   # para calcular distancias haversine
library(FNN)         # para vecinos m√°s cercanos
library(igraph)      # para construir el grafo

# Cargar datos
df <- read_csv("barberia_bogota.csv")

# Extraer coordenadas
coords <- df %>% select(lat, lon)

# Calcular vecinos m√°s cercanos (k = 6)
nbrs <- get.knn(as.matrix(coords), k = 6)

# Construir grafo
G <- graph.empty(n = nrow(df), directed = FALSE)

for(i in 1:nrow(df)){
  vecinos <- nbrs$nn.index[i, ]
  distancias <- nbrs$nn.dist[i, ]
  
  for(j in seq_along(vecinos)){
    v <- vecinos[j]
    d <- distancias[j]
    if(i != v){
      G <- add_edges(G, c(i, v), attr = list(weight = d))
    }
  }
}

# Opcional: visualizar resumen del grafo
print(G)



